<mxfile host="65bd71144e">
    <diagram id="template-mgmt" name="Template Management">
        <mxGraphModel dx="1872" dy="2026" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1400" pageHeight="900" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="&lt;b&gt;Template Management&lt;/b&gt;" style="swimlane;rounded=1;whiteSpace=wrap;html=1;align=left;startSize=32;" parent="1" vertex="1">
                    <mxGeometry x="77" y="8" width="1160" height="560" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="&lt;p&gt;&lt;b&gt;Template Library (Source of Truth)&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Search, tags/folders, ownership, metadata&lt;/li&gt;&lt;li&gt;Canonical templates by id + version (published registry)&lt;/li&gt;&lt;/ul&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="2" vertex="1">
                    <mxGeometry x="20" y="52" width="297" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="&lt;p&gt;&lt;b&gt;Authoring (Email/SMS/Push)&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Channel editors&lt;/li&gt;&lt;li&gt;Reusable snippets/partials&lt;/li&gt;&lt;li&gt;Variable insertion helpers&lt;/li&gt;&lt;/ul&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="2" vertex="1">
                    <mxGeometry x="400" y="218" width="293" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="&lt;p&gt;&lt;b&gt;Personalization Model&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Variable schema (type/required/default)&lt;/li&gt;&lt;li&gt;Conditional content rules&lt;/li&gt;&lt;li&gt;Escaping/rendering rules&lt;/li&gt;&lt;/ul&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="2" vertex="1">
                    <mxGeometry x="783" y="216" width="360" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="&lt;p&gt;&lt;b&gt;Variants &amp;amp; Localization&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Locale variants&lt;/li&gt;&lt;li&gt;Fallback rules&lt;/li&gt;&lt;li&gt;Regional legal variants&lt;/li&gt;&lt;/ul&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="2" vertex="1">
                    <mxGeometry x="20" y="220" width="302" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="&lt;p&gt;&lt;b&gt;Lifecycle &amp;amp; Versioning&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Draft → Published → Deprecated&lt;/li&gt;&lt;li&gt;Version history/diff&lt;/li&gt;&lt;li&gt;Rollback, dependency view&lt;/li&gt;&lt;/ul&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="2" vertex="1">
                    <mxGeometry x="395" y="52" width="282" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="&lt;p&gt;&lt;b&gt;Self-Service Preview &amp;amp; Whitelist Test Send (KEY)&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Preview (Email HTML / SMS segments / Push payload)&lt;/li&gt;&lt;li&gt;Sample data simulation (test profile or JSON)&lt;/li&gt;&lt;li&gt;Validation (variables, constraints, links, policy)&lt;/li&gt;&lt;li&gt;Whitelist gate + test send + results (by version)&lt;/li&gt;&lt;/ul&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;strokeWidth=2;" parent="2" vertex="1">
                    <mxGeometry x="785" y="392" width="360" height="142" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="&lt;p&gt;&lt;b&gt;Governance &amp;amp; Access&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;RBAC (viewer/editor/approver/admin)&lt;/li&gt;&lt;li&gt;Optional maker-checker approvals&lt;/li&gt;&lt;li&gt;Audit trail (changes + approvals + tests)&lt;/li&gt;&lt;/ul&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="2" vertex="1">
                    <mxGeometry x="20" y="388" width="300" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="&lt;p&gt;&lt;b&gt;Compliance &amp;amp; Policy Rules&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Required elements (unsubscribe/opt-out/legal)&lt;/li&gt;&lt;li&gt;Banned/required phrases&lt;/li&gt;&lt;li&gt;Sensitive data rules&lt;/li&gt;&lt;/ul&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="2" vertex="1">
                    <mxGeometry x="400" y="388" width="297" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="&lt;p&gt;&lt;b&gt;Integration &amp;amp; APIs&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;CRUD APIs + import/export&lt;/li&gt;&lt;li&gt;Events/webhooks (published/deprecated)&lt;/li&gt;&lt;li&gt;Campaign/journey integration hooks&lt;/li&gt;&lt;/ul&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="2" vertex="1">
                    <mxGeometry x="783" y="52" width="360" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="&lt;b&gt;Context Assembly (Per-Service Payload)&lt;/b&gt;" style="swimlane;rounded=1;whiteSpace=wrap;html=1;align=left;startSize=28;" parent="1" vertex="1">
                    <mxGeometry x="1358" y="-697" width="420" height="360" as="geometry"/>
                </mxCell>
                <mxCell id="70" value="&lt;b&gt;Core Banking&lt;/b&gt;&lt;br/&gt;Balances, account status,&lt;br/&gt;transactions, due dates" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="30" vertex="1">
                    <mxGeometry x="16" y="44" width="188" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="71" value="&lt;b&gt;Customer System&lt;/b&gt;&lt;br/&gt;Identity, contact points,&lt;br/&gt;language/region" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="30" vertex="1">
                    <mxGeometry x="216" y="44" width="188" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="72" value="&lt;b&gt;Cards System&lt;/b&gt;&lt;br/&gt;Card events, merchant details,&lt;br/&gt;card status" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="30" vertex="1">
                    <mxGeometry x="16" y="144" width="188" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="73" value="&lt;b&gt;Digital Channels/App&lt;/b&gt;&lt;br/&gt;Device token, app version,&lt;br/&gt;deep links" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="30" vertex="1">
                    <mxGeometry x="216" y="144" width="188" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="74" value="&lt;b&gt;Consent/Preference Service&lt;/b&gt;&lt;br/&gt;Marketing consent (Email/SMS/Push)&lt;br/&gt;Topic subscriptions + suppressions" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="30" vertex="1">
                    <mxGeometry x="16" y="244" width="388" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="&lt;b&gt;Channel Gateways&lt;/b&gt;&lt;br/&gt;Email / SMS / Push providers" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="977" y="626" width="260" height="195" as="geometry"/>
                </mxCell>
                <mxCell id="36" value="&lt;b&gt;NotificationHub&lt;/b&gt;" style="swimlane;rounded=1;whiteSpace=wrap;html=1;align=left;startSize=28;" parent="1" vertex="1">
                    <mxGeometry x="-212" y="-979" width="560" height="420" as="geometry"/>
                </mxCell>
                <mxCell id="90" value="&lt;b&gt;Ingress / API&lt;/b&gt;&lt;br/&gt;Campaign triggers, events" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="36" vertex="1">
                    <mxGeometry x="16" y="44" width="252" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="91" value="&lt;b&gt;Routing &amp;amp; Orchestration&lt;/b&gt;&lt;br/&gt;Channel selection, flow" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="36" vertex="1">
                    <mxGeometry x="292" y="44" width="252" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="92" value="&lt;b&gt;Template Resolution&lt;/b&gt;&lt;br/&gt;Fetch id + version" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="36" vertex="1">
                    <mxGeometry x="16" y="132" width="252" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="93" value="&lt;b&gt;Consent &amp;amp; Policy Gate&lt;/b&gt;&lt;br/&gt;Marketing + suppressions" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="36" vertex="1">
                    <mxGeometry x="292" y="132" width="252" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="94" value="&lt;b&gt;Render &amp;amp; Personalize&lt;/b&gt;&lt;br/&gt;Merge context + locale" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="36" vertex="1">
                    <mxGeometry x="16" y="220" width="252" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="95" value="&lt;b&gt;Dispatch &amp;amp; Retry&lt;/b&gt;&lt;br/&gt;Send, retry, throttling" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="36" vertex="1">
                    <mxGeometry x="292" y="220" width="252" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="96" value="&lt;b&gt;Events &amp;amp; Telemetry&lt;/b&gt;&lt;br/&gt;Audit + metrics emit" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="36" vertex="1">
                    <mxGeometry x="16" y="308" width="528" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="33" value="&lt;b&gt;Audit / Logging&lt;/b&gt;&lt;br/&gt;Centralized audit evidence" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="117" y="671.5" width="260" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="&lt;b&gt;Reporting/Dashboard&lt;/b&gt;&lt;br/&gt;Operational &amp;amp; business insights" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="487" y="677" width="260" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="105" value="&lt;b&gt;Event Producers&lt;/b&gt;" style="swimlane;rounded=1;whiteSpace=wrap;html=1;align=left;startSize=28;" parent="1" vertex="1">
                    <mxGeometry x="-784" y="-1121" width="320" height="450" as="geometry"/>
                </mxCell>
                <mxCell id="34" value="&lt;b&gt;Campaign/Journey Tool&lt;/b&gt;&lt;br/&gt;Uses published templates" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="105" vertex="1">
                    <mxGeometry x="30" y="364" width="260" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="100" value="&lt;b&gt;Core Banking Events&lt;/b&gt;&lt;br/&gt;Txn posted, balance change" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="105" vertex="1">
                    <mxGeometry x="30" y="44" width="260" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="101" value="&lt;b&gt;Cards Platform&lt;/b&gt;&lt;br/&gt;Auth/decline, card status" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="105" vertex="1">
                    <mxGeometry x="30" y="124" width="260" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="102" value="&lt;b&gt;Digital Channel (App/Web)&lt;/b&gt;&lt;br/&gt;User actions, device signals" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="105" vertex="1">
                    <mxGeometry x="30" y="204" width="260" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="103" value="&lt;b&gt;Customer/CRM&lt;/b&gt;&lt;br/&gt;Profile updates, lifecycle" style="rounded=1;whiteSpace=wrap;html=1;align=center;" parent="105" vertex="1">
                    <mxGeometry x="30" y="284" width="260" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="50" style="endArrow=block;endFill=1;rounded=0;html=1;" parent="1" source="11" target="12" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="51" style="endArrow=block;endFill=1;rounded=0;html=1;" parent="1" source="11" target="13" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="53" style="endArrow=block;endFill=1;rounded=0;html=1;" parent="1" source="12" target="15" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="54" style="endArrow=block;endFill=1;rounded=0;html=1;" parent="1" source="17" target="15" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="55" value="sample payload" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="30" target="15" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="56" value="test send" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="15" target="31" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="58" value="audit evidence" style="endArrow=block;endFill=1;rounded=0;html=1;" parent="1" source="16" target="33" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="59" value="published templates" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="18" target="34" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="60" value="resolve template (id+version)" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;" parent="1" source="36" target="10" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="61" value="audit events" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;" parent="1" source="33" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="62" value="metrics/telemetry" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;" parent="1" source="31" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="64" value="deliver" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="36" target="31" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="-338" y="-874"/>
                            <mxPoint x="-338" y="852"/>
                            <mxPoint x="1282" y="852"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="65" value="context lookup" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="36" target="30" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="66" value="delivery/audit events" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="36" target="33" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="-234" y="-769"/>
                            <mxPoint x="-234" y="712"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="115" value="events/triggers" style="endArrow=block;endFill=1;rounded=0;html=1;edgeStyle=orthogonalEdgeStyle;" parent="1" source="105" target="90" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>